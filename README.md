# ะัะพ ะธะฝัะตะณัะฐะปัะฝะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธั
ะัะพะตะบั ะฒะบะปััะฐะตั ะฒ ัะตะฑั 2 ััะฝะบัะธะธ, ัะฒัะทะฐะฝะฝัะต ั ะธะฝัะตะณัะฐะปัะฝัะผ ะฟัะตะดััะฐะฒะปะตะฝะธะตะผ ะผะฐััะธัั.

- ะะฝัะตะณัะฐะปัะฝะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต ะผะฐััะธัั
- ะกัะผะผะฐ ัะธัะตะป ะผะฐััะธัั ะฒะฝัััะธ ะฟััะผะพัะณะพะปัะฝะธะบะฐ 
- ะะฒะพะด ั ะฟะพะผะพััั ัะฐะนะปะฐ .xlsx

# ะ ะธะฝัะตะณัะฐะปัะฝะพะผ ะฟัะตะดััะฐะฒะปะตะฝะธะธ
ะะฐะถะดะพะต ัััะฝะพ-ะฑะตะปะพะต ะธะทะพะฑัะฐะถะตะฝะธะต ะผะพะถะฝะพ ะฟัะตะดััะฐะฒะธัั ะฒ
ะฒะธะดะต ะผะฐััะธัั, ัะพััะพััะตะน ะธะท ะพะดะฝะธั ะปะธัั ัะธัะตะป โ ะบะพะฝััะฐััะฝะพััะธ ะบะพะฝะบัะตัะฝะพะณะพ
ะฟะธะบัะตะปั. ะ ะธะฝัะตะณัะฐะปัะฝะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธั โ ััะพ ะผะฐััะธัะฐ, ัะฐะทะผะตัะฝะพััั
ะบะพัะพัะพะน ัะพะฒะฟะฐะดะฐะตั ั ัะฐะทะผะตัะฝะพัััั ะธััะพะดะฝะพะณะพ ะธะทะพะฑัะฐะถะตะฝะธั. ะญะปะตะผะตะฝัั ััะพะน
ะผะฐััะธัั ะผะพะถะฝะพ ัะฐัััะธัะฐัั ะฟะพ ัะพัะผัะปะฐะผ

> ๐ผ๐ผ(๐ฅ, ๐ฆ) = โ๐ผ(๐,๐)<br />
> ๐ผ๐ผ(๐ฅ, ๐ฆ) = ๐ผ(๐ฅ, ๐ฆ) โ ๐ผ๐ผ(๐ฅ โ 1, ๐ฆ โ 1) + ๐ผ๐ผ(๐ฅ โ 1, ๐ฆ) + ๐ผ๐ผ(๐ฅ, ๐ฆ โ 1)<br />
>
> ะณะดะต ๐ผ(๐ผ,๐) โ ััะบะพััั ะฟะธะบัะตะปั ะธััะพะดะฝะพะณะพ ะธะทะพะฑัะฐะถะตะฝะธั,<br />
> ๐ผ๐ผ(๐ฅ, ๐ฆ) โ ัะปะตะผะตะฝั ะธะฝัะตะณัะฐะปัะฝะพะณะพ ะธะทะพะฑัะฐะถะตะฝะธั, ัะพะดะตัะถะฐัะธะน ะฒ ัะตะฑะต ััะผะผั
> ะฟะธะบัะตะปะตะน ะธะทะพะฑัะฐะถะตะฝะธั ะฒ ะฟััะผะพัะณะพะปัะฝะธะบะต ะพั (0,0) ะดะพ (x,y).

ะะดะฝะพะน ะธะท ะฟะพะปะตะทะฝะตะนัะธั ะพัะพะฑะตะฝะฝะพััะตะน ะธะฝัะตะณัะฐะปัะฝะพะณะพ ะฟัะตะดััะฐะฒะปะตะฝะธั
ัะฒะปัะตััั ะฒะพะทะผะพะถะฝะพััั ะพัะตะฝั ะฑััััะพ ะฒััะธัะปะธัั ััะผะผั ะฟะธะบัะตะปะตะน ะฟัะพะธะทะฒะพะปัะฝะพะณะพ
ะฟััะผะพัะณะพะปัะฝะธะบะฐ (ะธะปะธ ะปัะฑะพะน ะดััะณะพะน ัะธะณััั, ะบะพัะพััั ะผะพะถะฝะพ ะฐะฟะฟัะพะบัะธะผะธัะพะฒะฐัั
ะฝะตัะบะพะปัะบะธะผะธ ะฟััะผะพัะณะพะปัะฝะธะบะฐะผะธ). ะกัะผะผั ะฒะฝัััะธ ะฟััะผะพัะณะพะปัะฝะธะบะฐ ะผะพะถะฝะพ
ะฒััะฐะทะธัั ัะตัะตะท ััะผะผั ะธ ัะฐะทะฝะพััะธ ัะผะตะถะฝัั ะฟััะผะพัะณะพะปัะฝะธะบะพะฒ ะฟะพ
ัะพัะผัะปะต

> ๐๐ข๐๐๐๐๐๐๐ก(๐ด๐ต๐ถ๐ท) = ๐ผ๐ผ(๐ด) + ๐ผ๐ผ(ะก) โ ๐ผ๐ผ(๐ต) โ ๐ผ๐ผ(๐ท)<br />
>
> ะณะดะต ะ โ ะฟััะผะพัะณะพะปัะฝะธะบ ะฒ ะปะตะฒะพะผ ะฒะตััะฝะตะผ ัะณะปั,<br />
> B โ ะฒัะต ะฟััะผะพัะณะพะปัะฝะธะบะธ ะฒะตััะฝะตะณะพ ััะดะฐ,<br />
> C โ ะฒัะต ะฟััะผะพัะณะพะปัะฝะธะบะธ,<br />
> D โ ะฒัะต ะฟััะผะพัะณะพะปัะฝะธะบะธ ะปะตะฒะพะน ะบะพะปะพะฝะบะธ.

ะัะธะผะตั ััะผะผั ะฟะธะบัะตะปะตะน ะฒ ะฟัะพะธะทะฒะพะปัะฝะพะผ ะฟััะผะพัะณะพะปัะฝะธะบะต
![IntegralExample](https://user-images.githubusercontent.com/57265131/147665676-409396cd-9d65-4c0b-a81d-c34d75ee1a2c.png)<br />
ะัะต ะพ ะธะฝัะตะณัะฐะปัะฝะพะผ ะฟัะตะดััะฐะฒะปะตะฝะธะธ ะผะพะถะฝะพ ะฟะพัะธัะฐัั [ะทะดะตัั](https://robocraft.ru/blog/computervision/536.html)

# ะคัะฝะบัะธั integral_view
ะััะธัะปัะตั ะธะฝัะตะณัะฐะปัะฝะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต ะธััะพะดะฝะพะน ะผะฐััะธัั, ั ัะฐะบะพะน ะถะต ัะฐะทะผะตัะฝะพัััั.
```
def integral_view(image: list[list]) -> list[list]:
    """
    :param image: ะผะฐััะธัะฐ, ะทะฐะฟะพะปะฝะตะฝะฝะฐั ัะธัะปะฐะผะธ ัะธะฟะฐ int
    :return: ะธะฝัะตะณัะฐะปัะฝะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต ะธััะพะดะฝะพะน ะผะฐััะธัั, ั ัะฐะบะพะน ะถะต ัะฐะทะผะตัะฝะพัััั
    """
    integral_matrix = copy.deepcopy(image)

    for y in range(len(integral_matrix)):
        for x in range(len(integral_matrix[0])):
            left_cell = integral_matrix[y][x - 1] if x > 0 else 0
            up_cell = integral_matrix[y - 1][x] if y > 0 else 0
            diagonal_cell = integral_matrix[y - 1][x - 1] if x > 0 and y > 0 else 0
            integral_matrix[y][x] += left_cell + up_cell - diagonal_cell

    return integral_matrix
```
ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั:
```
>>> matrix = [[1, 69], [69, 120]]
>>> integral_matrix = integral_view(matrix)
>>> print(integral_matrix)
[[1, 70], [70, 259]]
```
# ะคัะฝะบัะธั rect_sum
ะััะธัะปัะตั ััะผะผั ัะธัะตะป ะฒะฝัััะธ ะฟััะผะพัะณะพะปัะฝะธะบะฐ.
```
def rect_sum(image: list[list], x1: int, y1: int, x2: int, y2: int) -> int:
    """
    ะััะธัะปัะตั ััะผะผั ัะธัะตะป ะฒะฝัััะธ ะฟััะผะพัะณะพะปัะฝะธะบะฐ
    :param image: ะผะฐััะธัะฐ, ะทะฐะฟะพะปะฝะตะฝะฝะฐั ัะธัะปะฐะผะธ ัะธะฟะฐ int
    :param x1: ะบะพะพัะดะธะฝะฐัะฐ x ะปะตะฒะพะณะพ ะฒะตััะฝะตะณะพ ัะณะปะฐ ะฟััะผะพัะณะพะปัะฝะธะบะฐ
    :param y1: ะบะพะพัะดะธะฝะฐัะฐ y ะปะตะฒะพะณะพ ะฒะตััะฝะตะณะพ ัะณะปะฐ ะฟััะผะพัะณะพะปัะฝะธะบะฐ
    :param x2: ะบะพะพัะดะธะฝะฐัะฐ x ะฟัะฐะฒะพะณะพ ะฝะธะถะฝะตะณะพ ัะณะปะฐ ะฟััะผะพัะณะพะปัะฝะธะบะฐ
    :param y2: ะบะพะพัะดะธะฝะฐัะฐ y ะฟัะฐะฒะพะณะพ ะฝะธะถะฝะตะณะพ ัะณะปะฐ ะฟััะผะพัะณะพะปัะฝะธะบะฐ
    :return: ััะผะผะฐ ัะธัะตะป ะฒะฝัััะธ ะฟััะผะพัะณะพะปัะฝะธะบะฐ
    """
    integral_matrix = integral_view(image)

    a_sum = integral_matrix[y1 - 1][x1 - 1] if y1 > 0 and x1 > 0 else 0
    b_sum = integral_matrix[y1 - 1][x2] if y1 > 0 else 0
    c_sum = integral_matrix[y2][x2]
    d_sum = integral_matrix[y2][x1 - 1] if x1 > 0 else 0

    return a_sum + c_sum - d_sum - b_sum
```
ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั:
```
>>> matrix = [[1, 69], [69, 120]]
>>> r_sum = rect_sum(matrix, 0, 0, 1, 1)
>>> print(r_sum)
259
```

# ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั?
ะัะพะณัะฐะผะผะฐ ะฑะตัะตั ะธััะพะดะฝัั ะผะฐััะธัั ะธะท ัะฐะนะปะฐ input.xlsx ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ.<br />
ะคะฐะนะป ะผะพะถะฝะพ ัะตะฐะดะฐะบัะธัะพะฒะฐัั ะฒ [Sheets](https://docs.google.com/spreadsheets) ะธะปะธ ะฒ [Excel](https://www.office.com/launch/excel?ui=en-US&rs=US&auth=1).<br />
ะคะฐะนะป ะดะพะปะถะตะฝ ัะพะดะตัะถะฐัั ัะพะปัะบะพ ัะธััั ัะธะฟะฐ int.

ะัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ ะฟัะพะณัะฐะผะผะฐ ะทะฐะฟัะฐัะธะฒะฐะตั ั ะฟะพะปัะทะพะฒะฐัะตะปั ะฝะฐ ะฒะฒะพะด 4 ะบะพะพัะดะธะฝะฐัั. 
ะะตัะฒัะต 2 ะบะพะพัะดะธะฝะฐัั - ะบะพะพัะดะธะฝะฐัั ะปะตะฒะพะณะพ ะฒะตััะฝะตะณะพ ัะณะปะฐ ะฟััะผะพัะณะพะปัะฝะธะบะฐ, ะพััะฐะปัะฝัะต 2 - ะบะพะพัะดะธะฝะฐัั ะฟัะฐะฒะพะณะพ ะฒะตััะฝะตะณะพ ัะณะปะฐ ะฟััะผะพัะณะพะปัะฝะธะบะฐ.

ะัะพะณัะฐะผะผะฐ ะฒัะฒะพะดะธั ััะผะผั ะฒะฝะบััะธ ัะธัั ะฟััะผะพัะณะพะปัะฝะธะบะฐ ั ะฒะฒะตะดะตะฝะฝัะผะธ ะบะพะพัะดะธะฝะฐัะฐะผะธ.
